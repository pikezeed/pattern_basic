<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <style>
            
            .container{
                width: 100%;
                height: auto;
                position: relative;
                border: 2px solid red;
                
            }
            ul.container_slide{
                position: relative;
                width: 800px;
                height: 400px;
/*                width: auto;
                height: auto;*/
                margin-left: auto;
                margin-right: auto;
              
                overflow: hidden;
                border: 3px solid black;
                padding: 0px;
                list-style-type: none;
                
            }
            li.detail_slide{
                position: absolute;
                width: auto;
                height: auto;
        
                width: auto;
                height: auto;
                display: inline-block;
/*                border: 2px solid red;*/
               
            }/*
*/            li.detail_slide  img{
                 width:800px;
                height: 400px;
/*                border: 3px solid green;*/
            }
            ul.container_navigator{
                overflow: hidden;
                
                list-style-type: none;
                display: block;
            }
            ul.container_navigator li{
                float: left;
                margin-right: 10px;
                cursor: pointer;
            }
        </style>
    </head>
    <body>
        <div class="container">
            
       
            <ul class="container_slide">
                <li class="detail_slide">
                    <a href="http://www.google.com" target="_blank"><img src="img/img1.jpg"></a>
                </li>
                <li class="detail_slide">
                    <img src="img/img2.jpg">
                </li>
                <li class="detail_slide">
                    <img src="img/img3.jpg">
                </li>
                <li class="detail_slide">
                    <img src="img/img4.jpg">
                </li>
            </ul>
            <ul class="container_navigator">
                 
            </ul>
            <button class="btnBackward">Backword</button>
            <button class="btnForward">Foward</button>

        </div>
      <script src="js/vendor/jquery-1.11.2.js"></script>
      <script>
          
          jQuery(document).ready(function(){
             
             var sliderEasy = (function(jQuery){
                 
                    var prop = { 

                       width : 800, 
                       delaySlide : 2000,
                       pause : false,

                       beginIndex : 0,
                       endIndex : parseInt(jQuery('li.detail_slide').length -1),
                       activeIndex : 0,
                       
                       elementRoot : jQuery('ul.container_slide').parent(),
                       elementChild : jQuery('ul.container_slide').children(),
                       actionSlide : null,
                       
                       elementClickForward : '.btnForward',
                       elementClickBackward : '.btnBackward',
                       
                       elementRootNavigator : jQuery('ul.container_navigator'),
                       elementChildNavigator : jQuery('ul.container_navigator').children()



                    };


                    // **** private function **** //
                    var setPosition = function(){
                        //console.log("setPosition "+ prop.actionSlide);
                      prop.elementChild.each(function( index ){
                          jQuery(this).css({ left:800*index });
                      });  
                    };
                    
                    // ########################### //
                    // ##### active function ##### //
                    // ########################### //
                    
                    var setActive = function(index){
                           prop.elementChild.eq(index).addClass('active');
                    };

                    var setDeActive = function(index){
                         prop.elementChild.eq(index).removeClass('active');
                    };
                    
                    var controlActive = function(active, deActive){
                        setActive(active);
                        setDeActive(deActive);
                    };
                    var findActiveIndex = function(){
                         prop.activeIndex = prop.elementChild.filter('.active').index();
                    };
                    
                   
                    
 
                     
                    // #################### //
                    // ##### animate ###### //
                    // #################### // 
                    
                    var runClearAnimateBackward = function(){

                       var _firstPosition = prop.width * 3;

                       prop.elementChild.animate({
                             left:"+="+_firstPosition+""
                        });

                    }; 
                    
                    var runAnimateBackward = function(){

                        prop.elementChild.animate({
                             left:"+=800"
                        });

                    }; 

                    var runAnimateForward = function(){

                        prop.elementChild.animate({
                             left:"-=800"
                        });
                    };
                    
                    var runAnimateCustom = function(navigatorIndex, activeIndex){
                        console.log("navigatorIndex = " + navigatorIndex);
                         console.log("activeIndex = " + activeIndex);
                        var _cal = prop.width * (navigatorIndex - activeIndex);
                        console.log(_cal);
                       prop.elementChild.animate({
                             left:'-='+(_cal)+''
                        });
                       
                    };
                    
                    // ########################### //
                    // ##### time and delay ###### //
                    // ########################### //                   

                     var setTimerLoop  = function(fn,_delaySlide){
                         
                            if(typeof(_delaySlide) === 'undefined'){
                                _delaySlide = prop.delaySlide;
                            }
                            if(typeof fn === "function"){
                                
                               prop.actionSlide = setInterval(fn,_delaySlide);
                              // console.log(prop.actionSlide);
                            }
                    };          

                     var setClearTimer = function(){
                         
                          clearInterval(prop.actionSlide);
                    };
                    
                    // #################### //
                    // ##### condition #### //
                    // #################### //

                    var controllerActiveIndex = function(event){
                         
                         findActiveIndex();
                       
                         if(prop.activeIndex < prop.endIndex){
                            runAnimateForward();
                            controlActive(prop.activeIndex+1,prop.activeIndex);
                            return true;
                         }else if(prop.activeIndex === prop.endIndex){
                            runClearAnimateBackward();
                            controlActive(prop.beginIndex,prop.activeIndex); 
                            return true;
                         }else if(prop.activeIndex === prop.beginIndex){
                             runAnimateForward();
                             controlActive(prop.activeIndex+1,prop.activeIndex);
                             return true;
                         }else{
                             return false; 
                         }  
                    };             
                    
                    // **** public function **** //
                    return{
                            init : function(){
                                    setActive(prop.activeIndex);
                                    setPosition();

                                    //setTimerLoop(runAnimateForward);
                            },

  
                            
                            // #################### //
                            // ##### animate ###### //
                            // #################### //
                            runMainAnimate : function(){
                                
                                setTimerLoop( controllerActiveIndex );
                                
                            },
                            
                            // ################# //
                            // ##### hover ##### //
                            // ################# //
                            
                            hoverAnimate : function(){
                                prop.elementRoot.hover(
                                    function(){
                                        clearInterval(prop.actionSlide);
                                    },
                                    function(){
                                        setTimerLoop( controllerActiveIndex );
                                    }        
                                );
                            },
                            
                            // ######################### //
                            // ##### click forward ##### //
                            // ######################### //                  
                            clickForward : function(){
                                jQuery('body').on('click.next',prop.elementClickForward, function(){
                               
                                    //clearInterval(prop.actionSlide);
                                    findActiveIndex();
                                   
                                    if(prop.activeIndex === prop.endIndex){
                                        return false; // stop
                                    }else{
                                        runAnimateForward();
                                        controlActive(prop.activeIndex+1,prop.activeIndex);
                                    }
                                });
                            },
                            clickBackward : function(){
                                jQuery('body').on('click.previous',prop.elementClickBackward,{name:"btnPrevious"}, function(event){
                                    //clearInterval(prop.actionSlide);
                                    //console.log(event.data.name);
                                    findActiveIndex();
                                    if(prop.activeIndex === prop.beginIndex){
                                        return false; // stop
                                    }else{
                                        runAnimateBackward();
                                        controlActive(prop.activeIndex-1,prop.activeIndex);
                                    }
                                    
                                });                            
                            },
                            
                            navigator : function(){
                                
                                for(i=0;i <= prop.endIndex;i++){
                                    
                                    prop.elementRootNavigator.append('<li>'+i+'</li>');
                                }
                            },
                            
                            clickNavigator : function(){
                                
                                jQuery('body').on('click.navigator','ul.container_navigator li', function(){
                                    findActiveIndex();
                                    var _currentNavigatorIndex = jQuery(this).index();
//                                    console.log("active = "+prop.activeIndex);
                                    
                                    if(_currentNavigatorIndex !== prop.activeIndex){
                                        runAnimateCustom(_currentNavigatorIndex, prop.activeIndex);
                                        controlActive(_currentNavigatorIndex,prop.activeIndex);
                                    }else{
                                        return false;
                                    }
                                });
                            }
                        
                    }; 
                    
                    
                 
             })(jQuery);
             
             sliderEasy.init();
             sliderEasy.runMainAnimate();
             sliderEasy.hoverAnimate();
             sliderEasy.clickForward();
             sliderEasy.clickBackward();
             
             sliderEasy.navigator();
             sliderEasy.clickNavigator();

});           

              
    
             
           



      </script>
    </body>

</html>
