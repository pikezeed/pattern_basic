<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <style>
            
            .container{
                width: 100%;
                height: auto;
                position: relative;
                border: 2px solid red;
                
            }
            ul.container_slide{
                position: relative;
                width: 800px;
                height: 400px;
/*                width: auto;
                height: auto;*/
                margin-left: auto;
                margin-right: auto;
              
                overflow: hidden;
                border: 3px solid black;
                padding: 0px;
                list-style-type: none;
                
            }
            li.detail_slide{
                position: absolute;
                width: auto;
                height: auto;
        
                width: auto;
                height: auto;
                display: inline-block;
/*                border: 2px solid red;*/
               
            }/*
*/            li.detail_slide > img{
                 width:800px;
                height: 400px;
/*                border: 3px solid green;*/
            }
            
            
            
/*            ul.container_slide{
             
              width: auto;
             overflow: hidden;
                padding: 1px;
                list-style-type: none;
                       
                position: relative;
                padding: 0px;
               overflow:scroll;
               white-space:nowrap;
                border:5px solid black;
            }
            li.detail_slide{
                width: auto;
                position: absolute;
                height: auto;
                margin-left: auto;
                margin-right: auto;
                display: inline-block;
                border:5px solid green;
            }
            li.detail_slide > img{
                
                width: 800px;
                height: 400px;
                border: 3px solid red;
            }*/
        </style>
    </head>
    <body>
        <div class="container">
            
       
            <ul class="container_slide">
                <li class="detail_slide">
                    <img src="img/img1.jpg">
                </li>
                <li class="detail_slide">
                    <img src="img/img2.jpg">
                </li>
                <li class="detail_slide">
                    <img src="img/img3.jpg">
                </li>
                <li class="detail_slide">
                    <img src="img/img4.jpg">
                </li>
            </ul>
            
            <input type="text" ><br>
            <input type="text" ><br>
            <input type="text" ><br>
            <button>test</button>
        </div>
      <script src="js/vendor/jquery-1.11.2.js"></script>
      <script>
          
          jQuery(document).ready(function(){
             
             var sliderEasy = (function(jQuery){
                 
                    var prop = { 

                       width : 800, 
                       delaySlide : 2000,
                       pause : false,

                       beginIndex : 0,
                       endIndex : parseInt(jQuery('li.detail_slide').length -1),
                       activeIndex : 0,
                       
                       elementRoot : jQuery('ul'),
                       elementChild : jQuery('ul').children(),
                       actionSlide : null



                    };


                    // **** private function **** //
                    var setPosition = function(){
                      prop.elementChild.each(function( index ){
                          jQuery(this).css({ left:800*index });
                      });  
                    };
                    
                    // ########################### //
                    // ##### active function ##### //
                    // ########################### //
                    
                    var setActive = function(index){
                           prop.elementChild.eq(index).addClass('active');
                    };

                    var setDeActive = function(index){
                         prop.elementChild.eq(index).removeClass('active');
                    };
                    
                    var controlActive = function(active, deActive){
                        setActive(active);
                        setDeActive(deActive);
                    };
                    var findActiveIndex = function(){
                         prop.activeIndex = prop.elementChild.filter('.active').index();
                    };
                    
                    // #################### //
                    // ##### condition #### //
                    // #################### //

                    var controllerActiveIndex = function(){
                         
                         findActiveIndex();
                         console.log(prop.activeIndex);
                         if(prop.activeIndex < prop.endIndex){
                            runAnimateForward();
                            controlActive(prop.activeIndex+1,prop.activeIndex);
                            return true;
                         }else if(prop.activeIndex === prop.endIndex){
                            runAnimateBackward();
                            controlActive(prop.beginIndex,prop.activeIndex); 
                            return true;
                         }else if(prop.activeIndex === prop.beginIndex){
                             runAnimateForward();
                             controlActive(prop.activeIndex+1,prop.activeIndex);
                             return true;
                         }else{
                             return false; 
                         }  
                    };                    
                    
 
                     
                    // #################### //
                    // ##### animate ###### //
                    // #################### // 
                    
                    var runAnimateBackward = function(){

                       var _firstPosition = prop.width * 3;

                       prop.elementChild.animate({
                             left:"+="+_firstPosition+""
                        });

                    }; 

                    var runAnimateForward = function(){

                        prop.elementChild.animate({
                             left:"-=800"
                        });
                    };
                    
                    // ########################### //
                    // ##### time and delay ###### //
                    // ########################### //                   

                     var setTimerLoop  = function(fn,_delaySlide){
                            if(typeof(_delaySlide) === 'undefined'){
                                _delaySlide = prop.delaySlide;
                            }
                            if(typeof fn === "function"){
                               prop.actionSlide = setInterval(fn,_delaySlide);
                               console.log(prop.actionSlide);
                            }
                    };          

                     var setClearTimer = function(){
                         
                          clearInterval(prop.actionSlide);
                    };
                    
                    
                    // **** public function **** //
                    return{
                            init : function(){
                                    setActive(prop.activeIndex);
                                    setPosition();

                                    //setTimerLoop(runAnimateForward);
                            },

  
                            
                            // #################### //
                            // ##### animate ###### //
                            // #################### //
                            runMainAnimate : function(){
                                prop.actionSlide = setTimerLoop( controllerActiveIndex );
                            },
                            
                            // ################# //
                            // ##### hover ##### //
                            // ################# //
                            
                            hoverAnimate : function(){
                                prop.elementRoot.hover(
                                    function(){
                                        console.log("test" + prop.activeIndex);
                                         clearInterval(prop.actionSlide);
                                    },
                                    function(){
      
                                    }        
                                );
                            }
                        
                    }; 
                    
                    
                 
             })(jQuery);
             
             sliderEasy.init();
             sliderEasy.runMainAnimate();
             sliderEasy.hoverAnimate();
});           
//             var width      = 800;
//             var delaySlide       = 2000;
//             var pause = false;
//             
//         
//             var beginSlideIndex = 0;
//             var endSlideIndex   = parseInt(jQuery('li.detail_slide').length -1); // size slide
//             var activeIndex = 0;
//         
//             var element_main = jQuery('ul');
//             var element_child = jQuery('ul').children();
//             
//             var actionSlide = null;
//
//             var _setPosition = function(){ 
//                  
//                element_child.each(function( index ){
//                    jQuery(this).css({ left:800*index }); // step 1 : define position element li is width 800 * index
//                });
//                
//             };
//              
//             
//            // *** active function *** //
//            
//            var _setActive = function(index){
//                  element_child.eq(index).addClass('active');
//            };
//
//            var _setDeActive = function(index){
//                 element_child.eq(index).removeClass('active');
//            };
//            var _controlActive = function(active, deActive){
//                _setActive(active);
//                _setDeActive(deActive);
//            };
//            var _findActiveIndex = function(){
//                 activeIndex = element_child.filter('.active').index();
//            };
//             
//             
//            // *** time and delay *** //
//             var _setTimerLoop = function(fn,delay){
//                 if(typeof(delay) === 'undefined'){
//                     delay = delaySlide;
//                 }
//                 if(typeof fn === "function"){
//                    actionSlide = setInterval(fn,delay);
//                 }
//             };          
//             
//             var _setClearTimer = function(){
//                 clearInterval(actionSlide);
//             };
//             
//             // *** animate *** //
//             var _runAnimateBackward = function(){
//                 
//                var backwardPosition = width * 3;
//
//                element_child.animate({
//                      left:"+="+backwardPosition+""
//                 });
//                 
//             }; 
//             
//             var _runAnimateForward = function(){
//  
//                 element_child.animate({
//                      left:"-=800"
//                 });
//             };
//             
//             var _IsLastIndex = function(){
//          
//                  _setActiveIndex(); // set new activeindex
//                  
//                  if(activeIndex === endSlideIndex){
//                      _setClearTimer(actionSlide);
//                      _setTimerLoop(_runReverseAnimation);  
//                  }else{}  
//             };
//
//             
////             var _hover = function(){
////                   element_main.hover(
////                           
////                       function(){
////                          _setClearTimer(actionSlide);
////                       },
////                       function(){
////                            console.log(activeIndex);
////                           _IsLastIndex();
////                           console.log(activeIndex + " == " + endSlideIndex);
////                           _setTimerLoop(_runAnimation);
////                       }
////               
////                );
////             };
//             
//             var _init = function(){
//                _setActive(activeIndex);
//                _setPosition();
//                _setTimerLoop(_runAnimateForward);
////                _hover();
//             };
//             
//             _init();
              
    
             
           



      </script>
    </body>

</html>
